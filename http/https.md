
## 一、密钥
密钥是一种参数，它是在明文转换为密文或将密文转换为明文的算法中输入的参数。

### 1.1 密钥分类
* 对称密钥
* 非对称密钥

### 1.2 加密技术
* 共享密钥加密-对称加密：加密和解密使用同一个密钥。
* 公开密钥加密-非对称加密：加密和解密使用不同的密钥，分为公钥和私钥。

## 二、中间人攻击
* 请求或者响应在传输途中，遭遇攻击者拦截并篡改内容的攻击。
* 如何防止篡改：使用哈希散列函数对传输内容生成摘要，比如MD5，可以验证内容的完整性。

## 三、HTTP + 加密通信 + 认证 + 完整性保护 = HTTPS
### 3.1 加密通信
* 使用公钥加密，私钥解密，或者使用私钥加密，公钥解密

### 3.2 认证
* 即客户端和服务端的认证，使用CA数字证书进行认证

### 3.3 完整性保护
* 普通哈希用来做完整性校验，流行的是MD5

## 四、数字签名
数字签名的基本原理是用私钥去签名，而用公钥去验证签名。

## 五、数字证书
1. 服务器生成自己的公钥和私钥，私钥自己保存好。
2. 服务器把公钥注册到CA，CA用自己的私钥将服务器的公钥进行数字签名，并颁发数字证书给服务器，服务器保存好CA数字证书。
3. 客户端和服务器进行连接时，服务器将CA数字证书发送给客户端。
4. 客户端拿到服务器发过来的CA数字证书后，使用CA公钥确认服务器数字证书的有效性，客户端因此会拿到服务器的公钥。
5. 客户端向服务器发送数据时，使用服务器的公钥进行加密。

备注：其中的第4步，受信任的几家CA机构的公钥已经事先植入到浏览器或者操作系统之中了，客户端可以根据服务器发来的CA证书上记录的CA机构名称，来查找和使用相应的公钥。

## 六、HTTPS采用混合加密机制
原因：非对称加密的处理速度要比对称加密的处理速度慢，所以应该充分利用两者各自的优势，将两种方法组合起来用于通信。

在交换密钥环节使用非对称密钥加密方式，之后的建立通信、交换报文阶段则使用对称加密。

## 七、密钥协商
客户端和服务器会向对方分别发送一个随机数，使用Diffie-Hellman算法协商出来一个密钥，将这个密钥作为随后加密通信的对称密钥来使用。
* Diffie-Hellman算法是一种密钥交换协议，它可以让双方在不泄漏密钥的情况下协商出一个密钥来。

## 八、HTTPS特点
基于HTTP协议，通过SSL或TLS提供加密处理数据、验证对方身份以及数据完整性保护。